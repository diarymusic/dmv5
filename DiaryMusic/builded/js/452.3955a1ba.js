"use strict";(self["webpackChunkdm"]=self["webpackChunkdm"]||[]).push([[452],{452:function(t,r,e){e.d(r,{Z:function(){return m}});var n=e(9199);const o={class:"audio-player text-black"},i={class:"audio-info"},a={class:"song-name"},s={class:"controlsrow"},u={class:"controls"},c=["id"];function d(t,r,e,d,p,y){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",i,[(0,n._)("div",a,(0,n.zw)(e.songName),1),(0,n._)("div",s,[(0,n._)("div",u,[(0,n._)("button",{class:"play-pause",onClick:r[0]||(r[0]=(...t)=>y.togglePlay&&y.togglePlay(...t))},[(0,n._)("i",{class:(0,n.C_)(["text-black playAndPause",p.isPlaying?"ri-pause-fill":"ri-play-fill"])},null,2)])]),(0,n._)("div",{class:"progress-bar",id:"bar"+e.songid,onMousedown:r[2]||(r[2]=(...t)=>y.startDrag&&y.startDrag(...t)),onClick:r[3]||(r[3]=(...t)=>y.handleClick&&y.handleClick(...t))},[(0,n._)("div",{class:"progress",style:(0,n.j5)({width:p.progress+"%"})},null,4),(0,n._)("div",{class:"progress-handle",style:(0,n.j5)({left:p.progress+"%"}),onMousedown:r[1]||(r[1]=(...t)=>y.startDrag&&y.startDrag(...t))},null,36)],40,c)])])])}e(560),e(4224),e(1121),e(7133);var p=[];function y({songname:t,src:r}){var e=new Audio(r);return p.push({songname:t,src:e}),console.log("Current Audios : %d",p.length),e}function f(t){document.querySelectorAll(".playAndPause").forEach((t=>{t.classList.remove("ri-pause-fill"),t.classList.add("ri-play-fill")})),p.forEach((function(r){r.src!=t&&r.src.pause()}))}function l(){var t=null;p.forEach((r=>{t=r.src.isPlaying?null:r.src}));var r=new(window.AudioContext||window.webkitAudioContext),e=r.createAnalyser(),n=r.createMediaElementSource(t);n.connect(e),e.connect(r.destination);var o=document.getElementById("frequencySpectrum"),i=o.getContext("2d");e.fftSize=2048;var a=e.frequencyBinCount,s=new Uint8Array(a);function u(){requestAnimationFrame(u),e.getByteFrequencyData(s),i.fillStyle="rgb(0, 0, 0)",i.fillRect(0,0,o.width,o.height);for(var t,r=o.width/a*2.5,n=0,c=0;c<a;c++)t=s[c],i.fillStyle=`rgb(${t+100},${t+100},${t+100})`,i.fillRect(n,o.height-t/2,r,t/2),n+=r+1}u()}var g={data(){return{audio:null,isPlaying:!1,progress:0,dragStartX:0,dragStartProgress:0}},props:{songName:{type:String,required:!0},songPath:{type:String,required:!0},songid:{type:Number,required:!0},songArts:{type:Array,required:!0}},mounted(){console.log(this.songName),this.audio=y({songname:this.songName,src:this.songPath}),this.audio.addEventListener("timeupdate",this.updateProgress),this.audio.addEventListener("ended",this.resetPlayer)},methods:{togglePlay(){this.isPlaying?this.audio.pause():(f(this.audio),l(),this.audio.play()),this.isPlaying=!this.isPlaying},updateProgress(){const{currentTime:t,duration:r}=this.audio;this.progress=t/r*100},startDrag(t){this.dragStartX=t.clientX,this.dragStartProgress=this.progress,document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.stopDrag)},startBarDrag(t){this.dragStartX=t.clientX,this.dragStartProgress=this.progress,document.addEventListener("mousemove",this.handleBar),document.addEventListener("mouseup",this.stopBarDrag)},handleDrag(t){const r=t.clientX-this.dragStartX,e=document.getElementById(`bar${this.songid}`).offsetWidth,n=r/e*100;this.progress=this.dragStartProgress+n,this.audio.currentTime=this.progress/100*this.audio.duration},handleBar(t){const r=document.getElementById(`bar${this.songid}`).offsetWidth,e=t.target.getBoundingClientRect().left,n=e/r*100;this.progress=n,this.audio.currentTime=n/100*this.audio.duration},handleClick(t){const r=document.getElementById(`bar${this.songid}`).offsetWidth,e=t.clientX-t.target.getBoundingClientRect().left,n=e/r*100;this.progress=n,this.audio.currentTime=n/100*this.audio.duration},stopDrag(){document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.stopDrag)},stopBarDrag(){document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.stopDrag)},resetPlayer(){this.isPlaying=!1,this.progress=0,this.audio.currentTime=0}}},h=e(89);const v=(0,h.Z)(g,[["render",d],["__scopeId","data-v-45fed9f8"]]);var m=v},3550:function(t,r,e){var n=e(9985),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},7075:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4872:function(t,r,e){var n,o,i,a=e(7075),s=e(7697),u=e(9037),c=e(9985),d=e(8999),p=e(6812),y=e(926),f=e(3691),l=e(5773),g=e(1880),h=e(2148),v=e(3622),m=e(1868),A=e(9385),w=e(4201),T=e(4630),_=e(618),P=_.enforce,b=_.get,E=u.Int8Array,x=E&&E.prototype,C=u.Uint8ClampedArray,S=C&&C.prototype,D=E&&m(E),B=x&&m(x),I=Object.prototype,O=u.TypeError,R=w("toStringTag"),j=T("TYPED_ARRAY_TAG"),k="TypedArrayConstructor",L=a&&!!A&&"Opera"!==y(u.opera),U=!1,q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},X=function(t){if(!d(t))return!1;var r=y(t);return"DataView"===r||p(q,r)||p(M,r)},F=function(t){var r=m(t);if(d(r)){var e=b(r);return e&&p(e,k)?e[k]:F(r)}},N=function(t){if(!d(t))return!1;var r=y(t);return p(q,r)||p(M,r)},$=function(t){if(N(t))return t;throw new O("Target is not a typed array")},V=function(t){if(c(t)&&(!A||v(D,t)))return t;throw new O(f(t)+" is not a typed array constructor")},Y=function(t,r,e,n){if(s){if(e)for(var o in q){var i=u[o];if(i&&p(i.prototype,t))try{delete i.prototype[t]}catch(a){try{i.prototype[t]=r}catch(c){}}}B[t]&&!e||g(B,t,e?r:L&&x[t]||r,n)}},z=function(t,r,e){var n,o;if(s){if(A){if(e)for(n in q)if(o=u[n],o&&p(o,t))try{delete o[t]}catch(i){}if(D[t]&&!e)return;try{return g(D,t,e?r:L&&D[t]||r)}catch(i){}}for(n in q)o=u[n],!o||o[t]&&!e||g(o,t,r)}};for(n in q)o=u[n],i=o&&o.prototype,i?P(i)[k]=o:L=!1;for(n in M)o=u[n],i=o&&o.prototype,i&&(P(i)[k]=o);if((!L||!c(D)||D===Function.prototype)&&(D=function(){throw new O("Incorrect invocation")},L))for(n in q)u[n]&&A(u[n],D);if((!L||!B||B===I)&&(B=D.prototype,L))for(n in q)u[n]&&A(u[n].prototype,B);if(L&&m(S)!==B&&A(S,B),s&&!p(B,R))for(n in U=!0,h(B,R,{configurable:!0,get:function(){return d(this)?this[j]:void 0}}),q)u[n]&&l(u[n],j,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:U&&j,aTypedArray:$,aTypedArrayConstructor:V,exportTypedArrayMethod:Y,exportTypedArrayStaticMethod:z,getTypedArrayConstructor:F,isView:X,isTypedArray:N,TypedArray:D,TypedArrayPrototype:B}},9976:function(t,r,e){var n=e(6310);t.exports=function(t,r){var e=0,o=n(r),i=new t(o);while(o>e)i[e]=r[e++];return i}},6166:function(t,r,e){var n=e(6310);t.exports=function(t,r){for(var e=n(t),o=new r(e),i=0;i<e;i++)o[i]=t[e-i-1];return o}},6134:function(t,r,e){var n=e(6310),o=e(8700),i=RangeError;t.exports=function(t,r,e,a){var s=n(t),u=o(e),c=u<0?s+u:u;if(c>=s||c<0)throw new i("Incorrect index");for(var d=new r(s),p=0;p<s;p++)d[p]=p===c?a:t[p];return d}},926:function(t,r,e){var n=e(3043),o=e(9985),i=e(6648),a=e(4201),s=a("toStringTag"),u=Object,c="Arguments"===i(function(){return arguments}()),d=function(t,r){try{return t[r]}catch(e){}};t.exports=n?i:function(t){var r,e,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=d(r=u(t),s))?e:c?i(r):"Object"===(n=i(r))&&o(r.callee)?"Arguments":n}},1748:function(t,r,e){var n=e(3689);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2148:function(t,r,e){var n=e(8702),o=e(2560);t.exports=function(t,r,e){return e.get&&n(e.get,r,{getter:!0}),e.set&&n(e.set,r,{setter:!0}),o.f(t,r,e)}},2743:function(t,r,e){var n=e(8844),o=e(509);t.exports=function(t,r,e){try{return n(o(Object.getOwnPropertyDescriptor(t,r)[e]))}catch(i){}}},9401:function(t,r,e){var n=e(926);t.exports=function(t){var r=n(t);return"BigInt64Array"===r||"BigUint64Array"===r}},1868:function(t,r,e){var n=e(6812),o=e(9985),i=e(690),a=e(2713),s=e(1748),u=a("IE_PROTO"),c=Object,d=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var r=i(t);if(n(r,u))return r[u];var e=r.constructor;return o(e)&&r instanceof e?e.prototype:r instanceof c?d:null}},9385:function(t,r,e){var n=e(2743),o=e(5027),i=e(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,e={};try{t=n(Object.prototype,"__proto__","set"),t(e,[]),r=e instanceof Array}catch(a){}return function(e,n){return o(e),i(n),r?t(e,n):e.__proto__=n,e}}():void 0)},1530:function(t,r,e){var n=e(8732),o=TypeError;t.exports=function(t){var r=n(t,"number");if("number"==typeof r)throw new o("Can't convert number to bigint");return BigInt(r)}},3043:function(t,r,e){var n=e(4201),o=n("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},4224:function(t,r,e){var n=e(6166),o=e(4872),i=o.aTypedArray,a=o.exportTypedArrayMethod,s=o.getTypedArrayConstructor;a("toReversed",(function(){return n(i(this),s(this))}))},1121:function(t,r,e){var n=e(4872),o=e(8844),i=e(509),a=e(9976),s=n.aTypedArray,u=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,d=o(n.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&i(t);var r=s(this),e=a(u(r),r);return d(e,t)}))},7133:function(t,r,e){var n=e(6134),o=e(4872),i=e(9401),a=e(8700),s=e(1530),u=o.aTypedArray,c=o.getTypedArrayConstructor,d=o.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();d("with",{with:function(t,r){var e=u(this),o=a(t),d=i(e)?s(r):+r;return n(e,c(e),o,d)}}["with"],!p)}}]);
//# sourceMappingURL=452.3955a1ba.js.map