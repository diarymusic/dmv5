{"version":3,"file":"js/936.7ecad1c8.js","mappings":"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","sources":["webpack://dm/./src/views/songDetail.vue","webpack://dm/./src/views/songDetail.vue?115a"],"sourcesContent":["<template>\r\n  <section\r\n    class=\"w-screen px-6 sm:px-8 lg:flex lg:w-full lg:items-center lg:justify-between lg:gap-12\"\r\n  >\r\n    <div class=\"relative overflow-hidden lg:w-1/2 image-container-r2l\">\r\n      <img :src=\"modal.cover\" class=\"image\" />\r\n      <div class=\"mask-r2l\"></div>\r\n    </div>\r\n    <div class=\"relative overflow-y-scroll lg:w-1/2\">\r\n      <div class=\"h-8 lg:h-1\"></div>\r\n      <h2 class=\"font-display font-extrabold pb-2 text-center lg:text-left\">\r\n        <span class=\"text-white-300 text-6xl xl:text-7xl\">{{\r\n          modal.songname\r\n        }}</span>\r\n        <div>\r\n          <div class=\"h-3\"></div>\r\n        </div>\r\n      </h2>\r\n      <div class=\"h-3\"></div>\r\n      <h3\r\n        class=\"font-display text-lg xl:text-xl font-extrabold text-black dark:text-orange-100 leading-4 text-center lg:text-left\"\r\n      >\r\n        <template v-for=\"(artist, index) in modal.artists\" :key=\"index\">\r\n          <a\r\n            class=\"artistlink\"\r\n            :href=\"'https://music.163.com/#/artist?id=' + artist.trueid\"\r\n            :data-trueid=\"artist.trueid\"\r\n          >\r\n            {{ artist.name }} </a\r\n          >{{ index + 1 != modal.artists.length ? \" / \" : \"\" }}\r\n        </template>\r\n      </h3>\r\n      <div class=\"h-4\"></div>\r\n      <p\r\n        class=\"text-base text-black dark:text-gray-300 text-center lg:text-left\"\r\n        style=\"white-space: pre-wrap\"\r\n      >\r\n        {{ modal.desc }}\r\n      </p>\r\n      <!-- <div class=\"mask-l2r mask-b2t\"></div> -->\r\n      <div class=\"h-12\">\r\n        <div class=\"xl: flex flex-col gap-4 xl:flex-row justify-center mb-4\">\r\n          <template v-if=\"modal.audioshow\">\r\n            <template v-for=\"(au, i) in modal.audios\" :key=\"i\">\r\n              <!-- <audio controls :src=\"au.src\"></audio> -->\r\n              <component\r\n                :is=\"player\"\r\n                :songName=\"au.name\"\r\n                :songPath=\"au.src\"\r\n                :songid=\"i\"\r\n                :songArts=\"au.artists\"\r\n              >\r\n              </component>\r\n            </template>\r\n            <canvas id=\"frequencySpectrum\"></canvas>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport player from \"@/components/musicPlayer.vue\";\r\nexport default {\r\n  props: [\"sid\"],\r\n  components: {\r\n    player,\r\n  },\r\n  data() {\r\n    return {\r\n      modal: {},\r\n    };\r\n  },\r\n\r\n  created() {\r\n    var i = this.sid;\r\n    fetch(\"/api/get163\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf8\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n    })\r\n      .then((d) => d.json())\r\n      .then((d) => {\r\n        (this.newsong = {\r\n          name: \"\",\r\n          cover: \"\",\r\n          artists: {\r\n            name: \"\",\r\n            trueid: \"\",\r\n          },\r\n          desc: \"\",\r\n          audioshow: false,\r\n          audios: [],\r\n        }),\r\n          (this.songs = (d.status = 200)\r\n            ? d.data != undefined\r\n              ? d.data\r\n              : {}\r\n            : {});\r\n        this.modal = {\r\n          cover: this.songs[i].cover,\r\n          songname: this.songs[i].name,\r\n          artists: this.songs[i].artists,\r\n          audioshow: false,\r\n          audios: [],\r\n        };\r\n        this.modal.desc = \"加载中···\";\r\n        fetch(`/api/getAlbum/${this.songs[i].trueid}`)\r\n          .then((r) => r.json())\r\n          .then((r) => {\r\n            this.modal = {\r\n              cover: this.songs[i].cover,\r\n              songname: this.songs[i].name,\r\n              artists: this.songs[i].artists,\r\n              audioshow: false,\r\n              audios: [],\r\n            };\r\n            this.temp = r.resourceState == true ? r : {};\r\n            this.modal.desc =\r\n              r.resourceState == true\r\n                ? r.album.description\r\n                : \"__//\\n获取失败，请稍后再试···\\n- Diary Music -\\n//__\";\r\n            for (let i = 0; i < r.songs.length; i++) {\r\n              this.modal.audioshow = true;\r\n              let arts = [];\r\n              for (let iar = 0; iar < r.songs[i].ar.length; iar++) {\r\n                arts.push({\r\n                  n: r.songs[i].ar[iar].name,\r\n                  i: r.songs[i].ar[iar].id,\r\n                });\r\n              }\r\n              this.modal.audios.push({\r\n                name: `#${i + 1}: ${r.songs[i].name}`,\r\n                artists: arts,\r\n                src: `/api/getMp3/${r.songs[i].id}`,\r\n              });\r\n            }\r\n          });\r\n      })\r\n      .catch(\r\n        (e) =>\r\n          (this.modal.desc = `__//\\n获取失败，请稍后再试···\\n错误代码：${e}\\n- Diary Music -\\n//__`)\r\n      );\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./songDetail.vue?vue&type=template&id=682127d4\"\nimport script from \"./songDetail.vue?vue&type=script&lang=js\"\nexport * from \"./songDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","id","_createElementBlock","_hoisted_1","_hoisted_2","src","$data","modal","cover","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","songname","_hoisted_9","_hoisted_10","_hoisted_11","_Fragment","_renderList","artists","artist","index","href","trueid","name","_hoisted_12","length","_hoisted_13","_hoisted_14","desc","_hoisted_15","_hoisted_16","audioshow","key","audios","au","i","_createBlock","_resolveDynamicComponent","_ctx","player","songName","songPath","songid","songArts","_hoisted_17","props","components","data","created","this","sid","fetch","headers","then","d","json","newsong","songs","status","undefined","r","temp","resourceState","album","description","arts","iar","ar","push","n","catch","e","__exports__","render"],"sourceRoot":""}